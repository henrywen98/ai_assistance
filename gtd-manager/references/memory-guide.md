# 记忆功能指南

## 核心原则：记忆作为必须的 Context

**每次执行任何操作前，必须先加载 memory.md**

```
用户请求 → 加载 memory.md → 记忆匹配 → 执行操作
              ↑
           必须步骤
```

记忆数据用于：
- 识别任务中的人物/项目 → 补充上下文
- 匹配当前时段 → 生成效率建议
- 提取相关经验 → 提供提醒

---

## memory.md 结构

### YAML Frontmatter（系统设置）
- `work_hours`：工作时间定义
- `categories`：5大分类及关键词
- `priority`：优先级关键词
- `archive`：归档规则

### Markdown 正文（个人记忆）

#### 1. 个人信息
- 用户名称、工作风格

#### 2. 知识概念库
- 人物关系（谁负责什么）
- 项目/工具（含关键词，用于智能匹配）
- 领域经验

---

## 建议生成模板

基于已加载的 memory 数据，在输出中包含建议：

```
🧠 基于你的工作记忆：

👤 相关人员：{涉及的联系人}
📁 关联项目：{匹配到的项目}
⚠️ 提醒：{历史经验教训}
```

---

## 更新方式

### 1. 用户手动触发（主要）
```
"更新记忆：用户名称是Henry"
"记住：尧哥是金融事业部负责人"
```

### 2. 周回顾时批量更新
- 分析本周任务完成模式
- 更新效率数据
- 记录新的人物/项目关系

---

## 注意事项

- 记忆更新需用户确认，不自动写入
- 低置信度建议标注，让用户判断
- 定期清理过时信息
